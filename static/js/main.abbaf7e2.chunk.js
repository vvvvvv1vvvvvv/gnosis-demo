(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{279:function(e,t,n){},287:function(e,t){},289:function(e,t){},294:function(e,t){},299:function(e,t){},300:function(e,t){},329:function(e,t){},331:function(e,t){},341:function(e,t){},343:function(e,t){},383:function(e,t){},386:function(e,t){},554:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(35),c=n.n(s),i=(n(279),n(6)),o=n.n(i),u=n(124),f=n(104),d=n(125),x=n(126),p=n.n(x),b=n(65),h=n(558),l=n(53),g=n(559),j=n(81),v=n.n(j),A=n(94),m=(n(412),n(31)),O=h.a.Column;var w=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),c=Object(f.a)(s,2),i=c[0],x=c[1],w=Object(a.useState)(!1),C=Object(f.a)(w,2),T=C[0],k=C[1],E=Object(a.useState)(""),P=Object(f.a)(E,2),G=P[0],y=P[1],S=Object(a.useState)(null),D=Object(f.a)(S,2),B=D[0],H=D[1],R=function(e,t){return p.a.post("https://safe-transaction.gnosis.io/api/v1/multisig-transactions/".concat(e,"/confirmations/"),t)},L=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,r,s,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.ethers.providers.Web3Provider(window.web3.currentProvider),n=t.getSigner(0),e.next=4,n.provider.listAccounts();case 4:return a=e.sent,r=new j.EthersAdapter({ethers:b.ethers,signer:n}),s="0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc",e.next=9,v.a.create({ethAdapter:r,safeAddress:s});case 9:return c=e.sent,e.next=12,c.createTransaction({to:"0x5853ed4f26a3fcea565b3fbc698bb19cdf6deb85",value:"0x38d7ea4c68000",data:"0x"});case 12:return i=e.sent,e.next=15,c.signTransaction(i);case 15:return e.next=17,c.getTransactionHash(i);case 17:return u=e.sent,e.next=20,o={safe:Object(d.toChecksumAddress)(s),to:Object(d.toChecksumAddress)(i.data.to),value:Number(i.data.value),data:i.data.data,operation:i.data.operation,gasToken:i.data.gasToken,safeTxGas:i.data.safeTxGas,baseGas:i.data.baseGas,gasPrice:i.data.gasPrice,refundReceiver:i.data.refundReceiver,nonce:i.data.nonce,contractTransactionHash:u,sender:Object(d.toChecksumAddress)(a[0]),signature:i.signatures.get(a[0].toLowerCase()).data},p.a.post("https://safe-transaction.gnosis.io/api/v1/safes/".concat(Object(d.toChecksumAddress)("0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc"),"/multisig-transactions/"),o);case 20:I();case 21:case"end":return e.stop()}var o}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,r,s,c,i,u,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.ethers.providers.Web3Provider(window.web3.currentProvider),r=a.getSigner(0),s=new j.EthersAdapter({ethers:b.ethers,signer:r}),"0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc",e.next=6,v.a.create({ethAdapter:s,safeAddress:"0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc"});case 6:return c=e.sent,e.next=9,c.createTransaction({gasPrice:t.gasPrice,gasToken:t.gasToken,nonce:t.nonce,refundReceiver:t.refundReceiver,to:t.to,value:Object(A.intToHex)(Number(t.value)),data:t.data||"0x",safeTxGas:t.safeTxGas,baseGas:t.baseGas,operation:t.operation});case 9:return i=e.sent,e.next=12,c.signTransaction(i);case 12:return e.next=14,c.getTransactionHash(i);case 14:return u=e.sent,f=i.signatures.get(n.toLowerCase()).data,e.next=18,R(u,{signature:f});case 18:I();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,r,s,c,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new b.ethers.providers.Web3Provider(window.web3.currentProvider),a=n.getSigner(0),r=new j.EthersAdapter({ethers:b.ethers,signer:a}),s="0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc",e.next=6,v.a.create({ethAdapter:r,safeAddress:s});case 6:return c=e.sent,e.next=9,c.createTransaction({gasPrice:t.gasPrice,gasToken:t.gasToken,nonce:t.nonce,refundReceiver:t.refundReceiver,to:t.to,value:Object(A.intToHex)(Number(t.value)),data:t.data||"0x",safeTxGas:t.safeTxGas,baseGas:t.baseGas,operation:t.operation});case 9:if(i=e.sent,!t.confirmations){e.next=13;break}return e.next=13,Promise.all(t.confirmations.map((function(e){var t=new j.EthSignSignature(e.owner,e.signature);return i.addSignature(t)})));case 13:return e.next=15,c.connect({ethAdapter:r,safeAddress:s});case 15:return u=e.sent,e.next=18,u.executeTransaction(i);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts",params:[]});case 2:return t=e.sent,window.ethereum.on("accountsChanged",I),e.next=6,p.a.get("https://safe-transaction.gnosis.io/api/v1/safes/0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc/");case 6:return n=e.sent,e.next=9,p.a.get("https://safe-transaction.gnosis.io/api/v1/safes/0x9f18623f08eeBEcAEa7A404C9A6Cc451994fA4Dc/multisig-transactions/");case 9:a=e.sent,s=a.data,r(t[0]),H(n.data),x(s.results);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I()}),[]),Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{style:{marginBottom:"10px"},children:Object(m.jsx)(l.a,{type:"primary",onClick:L,children:"Create Transaction"})}),Object(m.jsxs)(h.a,{dataSource:i,children:[Object(m.jsx)(O,{title:"safeTxHash",dataIndex:"safeTxHash"},"safeTxHash"),Object(m.jsx)(O,{title:"submissionDate",dataIndex:"submissionDate"},"submissionDate"),Object(m.jsx)(O,{title:"confirmations",dataIndex:"confirmations",render:function(e){return e.map((function(e){return Object(m.jsx)("p",{children:e.owner})}))}},"confirmations"),Object(m.jsx)(O,{title:"operation",render:function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(l.a,{type:"link",onClick:function(){return t=e,y(JSON.stringify({gasPrice:t.gasPrice,gasToken:t.gasToken,nonce:t.nonce,refundReceiver:t.refundReceiver,to:t.to,value:Object(A.intToHex)(Number(t.value)),data:t.data||"0x",safeTxGas:t.safeTxGas,baseGas:t.baseGas,operation:t.operation},null,2)),void k(!0);var t},children:"View Detail"}),!e.confirmations.find((function(e){return e.owner.toLowerCase()===n.toLowerCase()}))&&Object(m.jsx)(l.a,{type:"primary",onClick:function(){return N(e)},children:"Confirm"}),e.confirmations.length>=B.threshold&&!e.isExecuted&&Object(m.jsx)(l.a,{type:"link",onClick:function(){return F(e)},children:"Execute"})]})}})]}),Object(m.jsx)(g.a,{title:"Basic Modal",visible:T,onOk:function(){k(!1)},onCancel:function(){k(!1)},children:Object(m.jsx)("pre",{children:G})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,561)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(w,{})}),document.getElementById("root")),C()}},[[554,1,2]]]);
//# sourceMappingURL=main.abbaf7e2.chunk.js.map